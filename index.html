<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Opportunity Analysis Calculator</title>

        <!-- External Libraries -->
        <script src="https://cdn.tailwindcss.com"></script>
        <link
            href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css"
            rel="stylesheet"
        />

        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />

        <!-- Custom Styles -->
        <link rel="stylesheet" href="css/styles.css" />

        <!-- Inject Firebase config from server environment -->
        <script>
            // This will be replaced by the dev server with actual values from .env
            window.FIREBASE_API_KEY = "{% FIREBASE_API_KEY %}";
            window.FIREBASE_AUTH_DOMAIN = "{% FIREBASE_AUTH_DOMAIN %}";
            window.FIREBASE_DATABASE_URL = "{% FIREBASE_DATABASE_URL %}";
            window.FIREBASE_PROJECT_ID = "{% FIREBASE_PROJECT_ID %}";
            window.FIREBASE_STORAGE_BUCKET = "{% FIREBASE_STORAGE_BUCKET %}";
            window.FIREBASE_MESSAGING_SENDER_ID = "{% FIREBASE_MESSAGING_SENDER_ID %}";
            window.FIREBASE_APP_ID = "{% FIREBASE_APP_ID %}";
        </script>
    </head>

    <body class="p-4 md:p-8">
        <div class="max-w-screen-xl mx-auto bg-white p-6 rounded-2xl shadow-lg">
            <header class="mb-8">
                <h1 class="text-3xl font-bold text-gray-800">
                    Opportunity Analysis Calculator
                </h1>
                <p class="text-gray-600 mt-2">
                    Enter your pharmacy's patient fees and service volumes to
                    see the estimated yearly financial opportunity.
                </p>
            </header>

            <!-- Totals Section -->
            <section
                id="projected-opportunity"
                class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10"
            >
                <div class="total-card p-5 rounded-lg">
                    <h3 class="text-md font-semibold text-gray-600">
                        Estimated Current Value (Yearly)
                    </h3>
                    <p
                        id="total-current-value"
                        class="text-3xl font-bold text-gray-900 mt-2"
                    >
                        $0.00
                    </p>
                </div>
                <div class="total-card p-5 rounded-lg">
                    <h3 class="text-md font-semibold text-gray-600">
                        Estimated Additional Value (Yearly)
                    </h3>
                    <p
                        id="total-additional-value"
                        class="text-3xl font-bold text-gray-900 mt-2"
                    >
                        $0.00
                    </p>
                </div>
                <div class="total-card p-5 rounded-lg">
                    <h3 class="text-md font-semibold text-gray-600">
                        Estimated Total Value (Yearly)
                    </h3>
                    <p
                        id="total-potential-value"
                        class="text-3xl font-bold text-gray-900 mt-2"
                    >
                        $0.00
                    </p>
                </div>
            </section>

            <!-- Service Parts Accordion -->
            <div id="parts-accordion" data-accordion="open" class="space-y-3">
                <!-- Part 1: Government-Funded Programs -->
                <div class="border border-gray-200 rounded-lg">
                    <h2 id="part1-heading">
                        <button
                            type="button"
                            class="flex items-center justify-between w-full p-5 font-semibold text-gray-900 bg-gray-50 hover:bg-gray-100 border-b border-gray-200 rounded-t-lg gap-3"
                            data-accordion-target="#part1-body"
                            aria-expanded="false"
                            aria-controls="part1-body"
                        >
                            Part 1: Government-Funded Programs
                            <svg
                                data-accordion-icon
                                class="w-5 h-5 shrink-0"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 10 6"
                            >
                                <path
                                    stroke="currentColor"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M9 5 5 1 1 5"
                                />
                            </svg>
                        </button>
                    </h2>
                    <div
                        id="part1-body"
                        class="hidden p-5 border-t border-gray-200 rounded-b-lg"
                        aria-labelledby="part1-heading"
                    >
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="table-header">
                                    <tr>
                                        <th
                                            class="px-4 py-3 text-left text-xs uppercase tracking-wider"
                                        >
                                            Program
                                        </th>
                                        <th
                                            class="px-4 py-3 text-left text-xs uppercase tracking-wider"
                                        >
                                            Funded Per Service
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Patient Fee (Current / Potential)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Current Volume
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Potential Volume
                                        </th>
                                        <th
                                            class="px-4 py-3 text-right text-xs uppercase tracking-wider"
                                        >
                                            Est. Current (Yearly)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-right text-xs uppercase tracking-wider"
                                        >
                                            Est. Additional (Yearly)
                                        </th>
                                    </tr>
                                </thead>
                                <tbody
                                    class="bg-white divide-y divide-gray-200"
                                    id="part1-rows"
                                ></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Part 2: Vaccinations -->
                <div class="border border-gray-200 rounded-lg">
                    <h2 id="part2-heading">
                        <button
                            type="button"
                            class="flex items-center justify-between w-full p-5 font-semibold text-gray-900 bg-gray-50 hover:bg-gray-100 border-b border-gray-200 rounded-t-lg gap-3"
                            data-accordion-target="#part2-body"
                            aria-expanded="false"
                            aria-controls="part2-body"
                        >
                            Part 2: Vaccinations
                            <svg
                                data-accordion-icon
                                class="w-5 h-5 shrink-0"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 10 6"
                            >
                                <path
                                    stroke="currentColor"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M9 5 5 1 1 5"
                                />
                            </svg>
                        </button>
                    </h2>
                    <div
                        id="part2-body"
                        class="hidden p-5 border-t border-gray-200 rounded-b-lg"
                        aria-labelledby="part2-heading"
                    >
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="table-header">
                                    <tr>
                                        <th
                                            class="px-4 py-3 text-left text-xs uppercase tracking-wider"
                                        >
                                            Program
                                        </th>
                                        <th
                                            class="px-4 py-3 text-left text-xs uppercase tracking-wider"
                                        >
                                            Funded Per Service
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Patient Fee (Current / Potential)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Current Volume
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Potential Volume
                                        </th>
                                        <th
                                            class="px-4 py-3 text-right text-xs uppercase tracking-wider"
                                        >
                                            Est. Current (Yearly)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-right text-xs uppercase tracking-wider"
                                        >
                                            Est. Additional (Yearly)
                                        </th>
                                    </tr>
                                </thead>
                                <tbody
                                    class="bg-white divide-y divide-gray-200"
                                    id="part2-rows"
                                ></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Part 3: Pharmacy Programs & Services -->
                <div class="border border-gray-200 rounded-lg">
                    <h2 id="part3-heading">
                        <button
                            type="button"
                            class="flex items-center justify-between w-full p-5 font-semibold text-gray-900 bg-gray-50 hover:bg-gray-100 border-b border-gray-200 rounded-t-lg gap-3"
                            data-accordion-target="#part3-body"
                            aria-expanded="false"
                            aria-controls="part3-body"
                        >
                            Part 3: Pharmacy Programs & Services
                            <svg
                                data-accordion-icon
                                class="w-5 h-5 shrink-0"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 10 6"
                            >
                                <path
                                    stroke="currentColor"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M9 5 5 1 1 5"
                                />
                            </svg>
                        </button>
                    </h2>
                    <div
                        id="part3-body"
                        class="hidden p-5 border-t border-gray-200 rounded-b-lg"
                        aria-labelledby="part3-heading"
                    >
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="table-header">
                                    <tr>
                                        <th
                                            class="px-4 py-3 text-left text-xs uppercase tracking-wider"
                                        >
                                            Service
                                        </th>
                                        <th
                                            class="px-4 py-3 text-left text-xs uppercase tracking-wider"
                                        >
                                            Funded / Other Value
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Patient Fee (Current / Potential)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Current Volume
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Potential Volume
                                        </th>
                                        <th
                                            class="px-4 py-3 text-right text-xs uppercase tracking-wider"
                                        >
                                            Est. Current (Yearly)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-right text-xs uppercase tracking-wider"
                                        >
                                            Est. Additional (Yearly)
                                        </th>
                                    </tr>
                                </thead>
                                <tbody
                                    class="bg-white divide-y divide-gray-200"
                                    id="part3-rows"
                                ></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Part 4: Biologics Dispensary Opportunity -->
                <div class="border border-gray-200 rounded-lg">
                    <h2 id="part4-heading">
                        <button
                            type="button"
                            class="flex items-center justify-between w-full p-5 font-semibold text-gray-900 bg-gray-50 hover:bg-gray-100 border-b border-gray-200 rounded-t-lg gap-3"
                            data-accordion-target="#part4-body"
                            aria-expanded="false"
                            aria-controls="part4-body"
                        >
                            Part 4: Biologics Dispensary Opportunity
                            <svg
                                data-accordion-icon
                                class="w-5 h-5 shrink-0"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 10 6"
                            >
                                <path
                                    stroke="currentColor"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M9 5 5 1 1 5"
                                />
                            </svg>
                        </button>
                    </h2>
                    <div
                        id="part4-body"
                        class="hidden p-5 border-t border-gray-200 rounded-b-lg"
                        aria-labelledby="part4-heading"
                    >
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="table-header">
                                    <tr>
                                        <th
                                            class="px-4 py-3 text-left text-xs uppercase tracking-wider"
                                        >
                                            Molecule
                                        </th>
                                        <th
                                            class="px-4 py-3 text-left text-xs uppercase tracking-wider"
                                        >
                                            Additional Margin / Remuneration
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Current Volume (Biosimilar)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-center text-xs uppercase tracking-wider"
                                        >
                                            Potential Volume (Biosimilar)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-right text-xs uppercase tracking-wider"
                                        >
                                            Est. Current (Yearly)
                                        </th>
                                        <th
                                            class="px-4 py-3 text-right text-xs uppercase tracking-wider"
                                        >
                                            Est. Additional (Yearly)
                                        </th>
                                    </tr>
                                </thead>
                                <tbody
                                    class="bg-white divide-y divide-gray-200"
                                    id="part4-rows"
                                ></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Definitions Section -->
            <section
                id="definitions"
                class="mt-8 p-6 bg-gray-50 rounded-lg"
            ></section>

            <!-- AI Implementation Plan Section -->
            <div class="mt-8 p-6 bg-blue-50 rounded-lg">
                <h3 class="text-xl font-semibold mb-4 text-blue-900">
                    ðŸ¤– AI-Powered Implementation Plan
                </h3>

                <!-- User Preferences -->
                <div class="mb-6 p-4 bg-white rounded-lg border">
                    <h4 class="font-medium mb-3 text-gray-800">
                        Plan Preferences
                    </h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label
                                class="block text-sm font-medium text-gray-700 mb-1"
                                >Max Investment (AUD)</label
                            >
                            <input
                                type="number"
                                id="max-investment"
                                value="15000"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="15000"
                            />
                        </div>
                        <div>
                            <label
                                class="block text-sm font-medium text-gray-700 mb-1"
                                >Time Horizon (Months)</label
                            >
                            <input
                                type="number"
                                id="time-horizon"
                                value="12"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="12"
                            />
                        </div>
                        <div>
                            <label
                                class="block text-sm font-medium text-gray-700 mb-1"
                                >Detail Level</label
                            >
                            <select
                                id="detail-level"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                                <option value="detailed">Detailed</option>
                                <option value="high-level">High Level</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <button
                        id="preview-plan-btn"
                        onclick="previewPlan()"
                        class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-medium"
                    >
                        ðŸ“‹ Preview & Edit Plan Data
                    </button>
                    <button
                        id="copy-payload-btn"
                        onclick="copyPayloadForChatGPT()"
                        class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-medium"
                    >
                        ðŸ“‹ Copy for ChatGPT
                    </button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <button
                        id="generate-quick-plan-btn"
                        onclick="generatePlan('quick')"
                        class="bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium"
                    >
                        âš¡ Generate Quick Plan (Top 6)
                    </button>
                    <button
                        id="generate-full-plan-btn"
                        onclick="generatePlan('detailed')"
                        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium"
                    >
                        ðŸ“Š Generate Full Plan (All Drivers)
                    </button>
                </div>

                <p class="text-sm text-gray-600 mt-3">
                    Quick plan focuses on top opportunities with shorter
                    prompts. Full plan provides comprehensive analysis with
                    timeline charts and detailed financials.
                </p>

                <!-- Plan Preview Modal (hidden by default) -->
                <div
                    id="plan-preview"
                    class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
                >
                    <div
                        class="bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"
                    >
                        <div class="p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-bold text-gray-900">
                                    Plan Data Preview
                                </h3>
                                <button
                                    onclick="closePreview()"
                                    class="text-gray-500 hover:text-gray-700 text-2xl"
                                >
                                    &times;
                                </button>
                            </div>

                            <div class="mb-4">
                                <h4 class="font-semibold mb-2">
                                    Top Drivers Summary:
                                </h4>
                                <div
                                    id="drivers-preview"
                                    class="bg-gray-50 p-3 rounded text-sm font-mono max-h-60 overflow-y-auto"
                                ></div>
                            </div>

                            <div class="mb-4">
                                <h4 class="font-semibold mb-2">
                                    User Preferences:
                                </h4>
                                <div
                                    id="preferences-preview"
                                    class="bg-gray-50 p-3 rounded text-sm"
                                ></div>
                            </div>

                            <div class="flex justify-end space-x-3">
                                <button
                                    onclick="closePreview()"
                                    class="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"
                                >
                                    Cancel
                                </button>
                                <button
                                    onclick="proceedWithGeneration()"
                                    class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
                                >
                                    Generate Plan
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div
                    id="plan-loading"
                    class="hidden text-center py-8 mt-4 bg-white rounded-lg border"
                >
                    <div
                        class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"
                    ></div>
                    <p class="text-blue-700 font-semibold">
                        Generating your custom action plan...
                    </p>
                    <p class="text-gray-600 text-sm mt-2">
                        This takes 15-30 seconds as we create a detailed
                        business strategy
                    </p>
                    <div class="mt-4 w-64 bg-gray-200 rounded-full h-2 mx-auto">
                        <div
                            class="bg-blue-600 h-2 rounded-full animate-pulse"
                        ></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Plan Display Section -->
        <section id="ai-plan-section" class="max-w-screen-xl mx-auto mt-8">
            <div id="plan-result" class="hidden"></div>
            <div class="flex gap-4 mt-6 flex-wrap">
                <button
                    id="download-plan-btn"
                    class="hidden bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition shadow-md"
                    onclick="downloadPlan()"
                >
                    ðŸ“¥ Download Plan
                </button>
            </div>

            <div class="max-w-screen-sm mx-auto bg-white p-6 rounded-2xl shadow-lg">
            <h2 class="text-2xl font-semibold mb-4 section-title text-center">
                Frequently Asked Questions
            </h2>

            <div
                id="faq-accordion"
                data-accordion="open"
                class="w-full max-w-3xl mx-auto"
                data-active-classes="bg-blue-100 dark:bg-gray-800 text-blue-600 dark:text-white"
            >
                <!-- How do I use the calculator? -->
                <h2 id="faq-heading-1">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-b-0 border-gray-200 rounded-t-xl focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-1"
                        aria-expanded="true"
                        aria-controls="faq-body-1"
                    >
                        How do I use the calculator?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-1"
                    class="p-5 border border-b-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-1"
                >
                    <p>
                        Enter your pharmacyâ€™s current service volumes in the
                        "Current Volume" fields. Set your growth targets in the
                        "Potential Volume" fields. Adjust patient fees where
                        applicable. The calculator will automatically display
                        estimated yearly financial opportunities and additional
                        values. You can also generate customized implementation
                        plans using the AI-powered feature.
                    </p>
                </div>

                <!-- What services are included? -->
                <h2 id="faq-heading-2">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-2"
                        aria-expanded="false"
                        aria-controls="faq-body-2"
                    >
                        What kind of services are included in the calculator?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-2"
                    class="hidden p-5 border border-b-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-2"
                >
                    <p>
                        The calculator covers four main categories:
                        Government-Funded Programs, Vaccinations, Pharmacy
                        Program Services, and Biologics Dispensary Services.
                    </p>
                </div>

                <!-- What if I don't provide a service? -->
                <h2 id="faq-heading-3">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-3"
                        aria-expanded="false"
                        aria-controls="faq-body-3"
                    >
                        What if I don't provide a particular service?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-3"
                    class="hidden p-5 border border-b-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-3"
                >
                    <p>
                        If a service is not provided by your pharmacy, leave the
                        volume or patient count fields empty or zero. The
                        calculator will exclude those services from your
                        estimates.
                    </p>
                </div>

                <!-- What do Current Volume and Potential Volume mean? -->
                <h2 id="faq-heading-4">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-4"
                        aria-expanded="false"
                        aria-controls="faq-body-4"
                    >
                        What do the terms "Current Volume" and "Potential
                        Volume" mean?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-4"
                    class="hidden p-5 border border-b-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-4"
                >
                    <p>
                        <strong>Current Volume</strong> refers to the number of
                        patients or services currently provided.
                        <strong>Potential Volume</strong> is your target or goal
                        for growth in each service area.
                    </p>
                </div>

                <!-- How to interpret results? -->
                <h2 id="faq-heading-5">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-5"
                        aria-expanded="false"
                        aria-controls="faq-body-5"
                    >
                        How do I interpret the results?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-5"
                    class="hidden p-5 border border-b-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-5"
                >
                    <p>
                        <strong>Estimated Current Value Yearly</strong> is
                        yearly revenue based on current service volumes.<br />
                        <strong>Estimated Additional Value Yearly</strong> is
                        the additional revenue possible by reaching your growth
                        targets.<br />
                        <strong>Estimated Total Value Yearly</strong> is the sum
                        of current and additional values.
                    </p>
                </div>

                <!-- Can I customize or add new services? -->
                <h2 id="faq-heading-6">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-6"
                        aria-expanded="false"
                        aria-controls="faq-body-6"
                    >
                        Can I customize or add new services?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-6"
                    class="hidden p-5 border border-b-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-6"
                >
                    <p>
                        Yes! If you have technical knowledge, you can edit the
                        service definitions and calculation logic in the code.
                        Refer to the README of the <a
                            href="https://github.com/jatwell93/pharmacy-calculator/"
                            target="_blank"
                            class="text-blue-600 hover:underline"
                            >Github repository</a for instructions.
                    </p>
                </div>

                <!-- Error or bug reporting -->
                <h2 id="faq-heading-7">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-7"
                        aria-expanded="false"
                        aria-controls="faq-body-7"
                    >
                        I noticed an error with the calculation or have a bug to
                        report, what should I do?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-7"
                    class="hidden p-5 border border-t-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-7"
                >
                    <p>
                        If you encounter any issues, please open a new issue on
                        GitHub using the provided bug report template:
                    </p>
                    <pre
                        class="bg-gray-100 p-4 rounded text-sm overflow-x-auto"
                    >
            ## Who is the bug affecting?
            <!-- Ex. All supervisors, Sally Supervisor, Level 1 CCs -->

            ## What is affected by this bug?
            <!-- Ex. AI response, editing services, wrong calculations -->

            ## When does this occur?
            <!-- Ex. On form submission, after upgrade, intermittently -->

            ## Where does it happen?
            <!-- Ex. Settings page, RMMR section, Firefox browser -->

            ## How do we replicate the issue?
            <!-- Please be as specific as possible. Use dashes (-) or numbers (1.) to list steps -->

            ## Expected behavior (i.e. solution)
            <!-- What should have happened? -->

            ## Other Comments
                </pre>
                    <p>
                        1. Go to the
                        <a
                            href="https://github.com/jatwell93/pharmacy-calculator/issues"
                            target="_blank"
                            class="text-blue-600 hover:underline"
                            >Issues tab</a
                        >
                        on GitHub.<br />
                        2. Click "New issue".<br />
                        3. Copy and fill in the above template.<br />
                        4. Provide detailed information, screenshots, or logs if
                        possible.
                    </p>
                </div>

                <!-- Is it suitable for pharmacies outside Australia? -->
                <h2 id="faq-heading-8">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-t-0 border-gray-200 focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-8"
                        aria-expanded="false"
                        aria-controls="faq-body-8"
                    >
                        Is this calculator suitable for pharmacies outside
                        Australia?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-8"
                    class="hidden p-5 border border-t-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-8"
                >
                    <p>
                        The calculator uses Australian program rates and
                        structures taken from the <a
                            href="https://www.health.gov.au/topics/primary-care/what-we-do/8cpa?language=en"
                            target="_blank"
                            class="text-blue-600 hover:underline"
                            >Eighth Community Pharmacy Agreement (8CPA)</a>, so results may not be accurate for other
                        countries. Verify rates before applying to
                        non-Australian pharmacies.
                    </p>
                </div>

                <!-- Can I use this calculator offline or locally? -->
                <h2 id="faq-heading-9">
                    <button
                        type="button"
                        class="flex items-center justify-between w-full p-5 font-medium text-gray-500 border border-t-0 border-gray-200 focus:ring-4 focus:ring-gray-200 rounded-b-xl hover:bg-gray-100 gap-3"
                        data-accordion-target="#faq-body-9"
                        aria-expanded="false"
                        aria-controls="faq-body-9"
                    >
                        Can I use this calculator offline or locally?
                        <svg
                            data-accordion-icon
                            class="w-3 h-3 rotate-180 shrink-0"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 10 6"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5 5 1 1 5"
                            />
                        </svg>
                    </button>
                </h2>
                <div
                    id="faq-body-9"
                    class="hidden p-5 border border-t-0 border-gray-200 rounded-b-xl text-gray-600"
                    aria-labelledby="faq-heading-9"
                >
                    <p>
                        You can clone the repository and run the calculator
                        locally by following the README instructions. Some AI
                        features may require internet access and API keys.
                    </p>
                </div>
            </div>
            </div>

            <section
                id="disclaimer"
                class="disclaimer mt-8 p-6 bg-gray-50 rounded-lg"
            ></section>
        </section>

        <!-- JavaScript Modules -->
        <script type="module" src="js/main.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    </body>
</html>
